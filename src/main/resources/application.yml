server:
  port: 8080

spring:
  profiles:
    active: local # ë¡œì»¬ í”„ë¡œíŒŒì¼ í™œì„±í™”

  config:
    import: optional:file:.env[.properties] # í™˜ê²½ë³€ìˆ˜ íŒŒì¼ ë¡œë“œ

  output:
    ansi:
      enabled: always # ANSI ì½˜ì†” ìƒ‰ìƒ í™œì„±í™” (JUnit í…ŒìŠ¤íŠ¸ í¬í•¨)

  web:
    resources:
      add-mappings: false # ì •ì  ë¦¬ì†ŒìŠ¤ ë§¤í•‘ ì¶”ê°€ ì—¬ë¶€ false
  #  mvc:
  #    throw-exception-if-no-handler-found: true # ìš”ì²­ ì²˜ë¦¬ í•¸ë“¤ëŸ¬ ì—†ì„ ë•Œ ì˜ˆì™¸ ì²˜ë¦¬

  servlet:
    multipart:
      max-request-size: 30MB # ìµœëŒ€ ìš”ì²­ í¬ê¸°
      max-file-size: 10MB # ìµœëŒ€ íŒŒì¼ í¬ê¸°

  jpa:
    hibernate:
      ddl-auto: none # í…Œì´ë¸” ìƒì„± ë° ì—…ë°ì´íŠ¸ ì „ëµ (create, create-drop, update, validate, none)
#    defer-datasource-initialization: true # DataSource ì´ˆê¸°í™” ì§€ì—°
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL8Dialect # Hibernate Dialect ì„¤ì •
        format_sql: true # SQL í¬ë§·íŒ…
        highlight_sql: true # SQL í•˜ì´ë¼ì´íŠ¸ ì¶œë ¥
        use_sql_comments: true # JPQL SQL ì£¼ì„ ì‚¬ìš©
        default_batch_fetch_size: 100 # ê¸°ë³¸ ë°°ì¹˜ í¬ê¸° ì„¤ì •
# ğŸŒŸ sql init ì²˜ë¦¬ì‹œ ì‚¬ìš©
#  sql:
#    init:
#      platform: mysql # SQL ì´ˆê¸°í™” í”Œë«í¼ (mysql, h2, postgresql, oracle, sqlserver)
#      data-locations: classpath:sql/data.sql # ddl-autoê°€ create, create-drop, updateì¼ ë•Œ ë°ì´í„° ì´ˆê¸°í™”, ì´ˆê¸°í™” ì™„ë£Œí›„ validate/noneë¡œ ë³€ê²½
#      mode: always # SQL ì´ˆê¸°í™” ëª¨ë“œ (always, never, embedded, embedded-always)

app:
  props:
    social:
      kakao:
        client-id: ${KAKAO_CLIENT_ID}
        client-secret: ${KAKAO_CLIENT_SECRET}
        authorization-uri: https://kauth.kakao.com/oauth/authorize
        token-uri: https://kauth.kakao.com/oauth/token
        user-info-uri: https://kapi.kakao.com/v2/user/me
        user-info-name-attribute-key: id
        client-name: Kakao
    jwt:
      secret-key: 1234567890123456789012345678901234567890
      access-token-expiration-period: 150 # ìš´ì˜ì‹œ, 15ë¶„, í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ 150ë¶„
      refresh-token-expiration-period: 1440 # 24ì‹œê°„ 60 * 24 = 1440ë¶„

    aws:
      key:
        access-key: ${AWS_ACCESS_KEY}
        secret-key: ${AWS_SECRET_KEY}
      s3:
        bucket-name: ${AWS_S3_BUCKET_NAME}
        region: ${AWS_REGION}

---
spring:
  config:
    activate:
      on-profile: local

  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/aniwhere?serverTimezone=Asia/Seoul&characterEncoding=UTF-8
    username: aniwhere
    password: aniwhere

app:
  props:
    social:
      kakao:
        redirect-uri: ${KAKAO_LOCAL_REDIRECT_URI}

logging:
  level:
    org.hibernate.SQL: debug # Hibernate SQL ë¡œê·¸ ë ˆë²¨
    org.hibernate.orm.jdbc.bind: trace # Hibernate SQL ë°”ì¸ë”© ë¡œê·¸ ë ˆë²¨
    org.springframework.transaction.interceptor: trace # Spring íŠ¸ëœì­ì…˜ ì¸í„°ì…‰í„° ë¡œê·¸ ë ˆë²¨

---
spring:
  config:
    activate:
      on-profile: prod # ìš´ì˜ í™˜ê²½
  jpa:
    hibernate:
      ddl-auto: update # í…Œì´ë¸” ìƒì„± ë° ì—…ë°ì´íŠ¸ ì „ëµ (create, create-drop, update, validate, none)
  sql:
    init:
      platform: mysql # SQL ì´ˆê¸°í™” í”Œë«í¼ (mysql, h2, postgresql, oracle, sqlserver)
      data-locations: classpath:sql/data.sql # ddl-autoê°€ create, create-drop, updateì¼ ë•Œ ë°ì´í„° ì´ˆê¸°í™”, ì´ˆê¸°í™” ì™„ë£Œí›„ validate/noneë¡œ ë³€ê²½
      mode: never # SQL ì´ˆê¸°í™” ëª¨ë“œ (always, never, embedded, embedded-always)

  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
#    url: jdbc:mysql://host.docker.internal:3306/aniwhere?serverTimezone=Asia/Seoul&characterEncoding=UTF-8
    url: jdbc:mysql://localhost:3306/aniwhere?serverTimezone=Asia/Seoul&characterEncoding=UTF-8
    username: aniwhere
    password: aniwhere
    hikari:
      max-lifetime: 600000 # ìµœëŒ€ ìˆ˜ëª… (ë°€ë¦¬ì´ˆ)
      idle-timeout: 300000 # ìœ íœ´ ì‹œê°„ (ë°€ë¦¬ì´ˆ)
      connection-timeout: 30000 # ì—°ê²° ì‹œê°„ ì´ˆê³¼ (ë°€ë¦¬ì´ˆ)

app:
  props:
    social:
      kakao:
        redirect-uri: ${KAKAO_PROD_REDIRECT_URI}

logging:
  level:
    org.hibernate.SQL: error # Hibernate SQL ë¡œê·¸ ë ˆë²¨
